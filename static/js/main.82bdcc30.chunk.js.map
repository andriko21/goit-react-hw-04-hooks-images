{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/App/App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/SearchBar/SearchBar.module.css","Components/SearchBar/SearchBar.js","Components/SearchApi/SearchApi.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/App/App.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","state","setState","reset","qwery","className","style","Searchbar","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","currentTarget","value","searchApi","query","page","a","axios","get","data","ImageGalleryItem","previewURL","largeImageURL","tags","src","alt","ImageGalleryItemImage","ImageGallery","images","openModal","onClick","map","index","Button","newImages","React","memo","LoaderFunc","color","height","width","timeout","Modal","closeModal","children","handleKeyDownClick","useCallback","ev","code","useEffect","window","addEventListener","removeEventListener","Overlay","target","currTarget","App","imageCollection","btnVisible","loaderStatus","showModal","modalImg","url","onChangeQwery","prevState","trim","length","alert","SearchApi","hits","res","resolveParse","total","Error","scrollTo","top","document","documentElement","scrollHeight","behavior","console","log","message","getAttribute","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.82bdcc30.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3Rcj-\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1L8yC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__QEk4j\",\"Modal\":\"Modal_Modal__3Z52Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1HssL\",\"modalImg\":\"App_modalImg__N3qjL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1s-sQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1-_ca\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__B85IQ\",\"SearchForm\":\"SearchBar_SearchForm__3jP7J\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1cNt3\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__2jeQ2\",\"SearchFormInput\":\"SearchBar_SearchFormInput__1A-cS\",\"SearchForm-input\":\"SearchBar_SearchForm-input__1xXEC\"};","import React, { useState } from \"react\";\r\nimport style from \"./SearchBar.module.css\";\r\n\r\nconst SearchBar = ({ onSubmit }) => {\r\n  const [state, setState] = useState();\r\n\r\n  const handleChange = (e) => {\r\n    setState({\r\n      qwery: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(state.qwery);\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setState({\r\n      qwery: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <header className={style.Searchbar}>\r\n      <form className={style.SearchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={style.SearchFormButton}>\r\n          <span className={style.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={style.SearchFormInput}\r\n          type=\"text\"\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","\r\nimport axios from \"axios\";\r\nconst KEY = '21976842-31d07f608689cfce6bd621b19';\r\n\r\nconst searchApi = async (query, page) => {\r\n    const data = await axios.get(`https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n    return data\r\n   \r\n}\r\n\r\nexport default searchApi;\r\n","import React from \"react\";\r\nimport style from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ previewURL, largeImageURL, tags }) => {\r\n  return (\r\n    <li className={style.ImageGalleryItem}>\r\n      <img\r\n        src={previewURL}\r\n        alt={tags}\r\n        className={style.ImageGalleryItemImage}\r\n        data={largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport style from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <ul className={style.ImageGallery} onClick={openModal}>\r\n      {images.map(({ previewURL, largeImageURL, tags }, index) => (\r\n        <ImageGalleryItem\r\n          previewURL={previewURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          key={index}\r\n          \r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react'\r\nimport style from './Button.module.css'\r\n\r\nconst Button = ({newImages}) => {\r\n    return (\r\n        <button className={style.Button} onClick={newImages}>Load more</button>\r\n    )\r\n}\r\n\r\nexport default React.memo(Button);","import Loader from \"react-loader-spinner\";\r\n\r\nconst LoaderFunc = () => {\r\n    return (\r\n    <Loader\r\n      type=\"Puff\"\r\n      color=\"#00BFFF\"\r\n      height={100}\r\n      width={100}\r\n      timeout={3000} //3 secs\r\n    />\r\n  );\r\n}\r\n\r\nexport default LoaderFunc\r\n","import React, { useEffect, useCallback} from \"react\";\r\nimport style from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ closeModal, children }) => {\r\n  const handleBackDropClick = ({ target, currTarget }) => {\r\n    if (target !== currTarget) {\r\n      closeModal();\r\n      return;\r\n    }\r\n  };\r\n\r\n  \r\n  // const handleKeyDownClick = (ev) => {\r\n    // if (ev.code === \"Escape\") {\r\n    //   closeModal();\r\n    //   return;\r\n    // }\r\n  // };\r\n\r\n  const handleKeyDownClick = useCallback((ev) => {\r\n    if (ev.code === \"Escape\") {\r\n      closeModal();\r\n      return;\r\n    }\r\n  },[closeModal])\r\n   \r\n\r\n\r\n  useEffect(() => {\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDownClick);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDownClick);\r\n    };\r\n  }, [handleKeyDownClick]);\r\n\r\n  return (\r\n    <div className={style.Overlay} onClick={handleBackDropClick}>\r\n      <div className={style.Modal}>{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\n// class oldModal extends Component {\r\n//   state = {};\r\n\r\n//   componentDidMount() {\r\n//     window.addEventListener(\"keydown\", this.handleKeyDownClick);\r\n//   }\r\n//   componentWillUnmount() {\r\n//     window.removeEventListener(\"keydown\", this.handleKeyDownClick);\r\n//   }\r\n\r\n//   handleBackDropClick = ({ target, currTarget }) => {\r\n//     if (target !== currTarget) {\r\n//       this.props.closeModal();\r\n//       return;\r\n//     }\r\n//   };\r\n//   handleKeyDownClick = (ev) => {\r\n//     // console.log(ev.code)\r\n//     if (ev.code === \"Escape\") {\r\n//       console.log(ev.code);\r\n//       this.props.closeModal();\r\n//       return;\r\n//     }\r\n//   };\r\n\r\n//   render() {\r\n//     const { children } = this.props;\r\n//     const { handleBackDropClick } = this;\r\n//     return (\r\n//       <div className={style.Overlay} onClick={handleBackDropClick}>\r\n//         <div className={style.Modal}>{children}</div>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n","import React, { useEffect, useState } from \"react\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport SearchApi from \"../SearchApi/SearchApi\";\nimport ImageGallary from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport LoaderFunc from \"../Loader/Loader\";\nimport Modal from \"../Modal/Modal\";\nimport style from \"./App.module.css\";\n\nconst App = () => {\n  const [state, setState] = useState({\n    query: \"\",\n    imageCollection: [],\n    page: 1,\n    btnVisible: false,\n    loaderStatus: false,\n    showModal: false,\n    modalImg: {\n      url: null,\n      alt: null,\n    },\n  });\n\n  const onChangeQwery = async (ev) => {\n    setState((prevState) => ({\n      ...prevState,\n      loaderStatus: true,\n    }));\n\n    if (!ev.trim().length) {\n      alert(\"Please enter a valid string!\");\n      return;\n    }\n\n    const res = await (await SearchApi(ev, state.page)).data.hits;\n    setState((prevState) => ({\n      ...prevState,\n      page: 1,\n      query: ev,\n      loaderStatus: false,\n      imageCollection: [...res],\n      btnVisible: true,\n    }));\n  };\n\n  const incerement = () => {\n    setState((prevState) => ({\n      ...prevState,\n      page: prevState.page + 1,\n    }));\n  };\n\n  const openModal = ({ target, currTarget }) => {\n    if (target === currTarget) {\n      return;\n    }\n\n    setState((prevState) => ({\n      ...prevState,\n      showModal: true,\n      modalImg: {\n        url: target.getAttribute('data'),\n        alt: target.getAttribute('alt'),\n      },\n    }));\n  };\n\n  const closeModal = () => {\n\n    setState((prevState) => ({\n     ...prevState,\n      showModal: false,\n    }));\n  };\n\n  useEffect(() => {\n    if (state.query.trim() === \"\") {\n      return;\n    }\n    setState((prevState) => ({\n      ...prevState,\n      loaderStatus: true,\n    }));\n    (async () => {\n      try {\n        const resolveParse = await SearchApi(state.query, state.page);\n\n        if (resolveParse.data.total === 0) {\n          throw Error(\"Required\");\n        }\n\n        setState((prevState) => ({\n          ...prevState,\n          imageCollection: [\n            ...prevState.imageCollection,\n            ...resolveParse.data.hits,\n          ],\n          loaderStatus: false,\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n\n      } catch (error) {\n        setState((prevState) => ({\n          ...prevState,\n          btnVisible: false,\n        }));\n        console.log(error.message);\n      }\n    })();\n  }, [state.page, state.query]);\n\n  return (\n    <div className={style.App}>\n      <SearchBar onSubmit={onChangeQwery} />\n      <ImageGallary images={state.imageCollection} openModal={openModal} />\n      {state.loaderStatus && <LoaderFunc />}\n      {state.showModal && (\n          <Modal closeModal={closeModal}>\n            <img src={state.modalImg.url} alt={state.modalImg.alt} className={ style.modalImg}/>\n          </Modal>\n        )}\n      {state.btnVisible && <Button newImages={incerement} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}